# TradingAgents Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# AWS BEDROCK CONFIGURATION
# =============================================================================
# AWS Profile name (should match your Claude Code configuration)
AWS_PROFILE=iris-aws

# AWS Region for Bedrock services
AWS_REGION=us-east-1

# AWS Access Keys (optional if using profile)
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key

# =============================================================================
# LLM PROVIDER SETTINGS
# =============================================================================
# Primary LLM provider: bedrock, openai, anthropic, google, openrouter, ollama
LLM_PROVIDER=bedrock

# Bedrock model configurations
QUICK_THINK_LLM=claude-sonnet-4
DEEP_THINK_LLM=claude-sonnet-4

# Model temperature settings
QUICK_THINK_TEMPERATURE=0.1
DEEP_THINK_TEMPERATURE=0.1

# Token limits
QUICK_THINK_MAX_TOKENS=4000
DEEP_THINK_MAX_TOKENS=8000

# OpenAI Configuration (if using OpenAI provider)
# OPENAI_API_KEY=your_openai_api_key
# OPENAI_BASE_URL=https://api.openai.com/v1

# Anthropic Configuration (if using Anthropic provider)
# ANTHROPIC_API_KEY=your_anthropic_api_key

# Google Configuration (if using Google provider)
# GOOGLE_API_KEY=your_google_api_key

# =============================================================================
# FINANCIAL DATA APIS
# =============================================================================
# Finnhub API for financial data (required for live data)
FINNHUB_API_KEY=d3adnfhr01qlsbrqvt60d3adnfhr01qlsbrqvt6g

# Alpha Vantage API (optional)
# ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key

# Polygon.io API (optional)
# POLYGON_API_KEY=your_polygon_key

# IEX Cloud API (optional)
# IEX_CLOUD_API_KEY=your_iex_cloud_key

# =============================================================================
# SOCIAL MEDIA & NEWS APIS
# =============================================================================
# Reddit API Configuration
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
REDDIT_USER_AGENT=TradingAgents/1.0

# Twitter/X API (optional)
# TWITTER_API_KEY=your_twitter_api_key
# TWITTER_API_SECRET=your_twitter_api_secret
# TWITTER_ACCESS_TOKEN=your_twitter_access_token
# TWITTER_ACCESS_TOKEN_SECRET=your_twitter_access_token_secret

# News API (optional)
# NEWS_API_KEY=your_news_api_key

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================
# Project directories
TRADINGAGENTS_RESULTS_DIR=./results
TRADINGAGENTS_DATA_DIR=./data
TRADINGAGENTS_CACHE_DIR=./data_cache
TRADINGAGENTS_LOGS_DIR=./logs

# Debug and development settings
DEBUG_MODE=false
LOG_LEVEL=INFO
ENABLE_TRACING=false

# =============================================================================
# SMART CACHING CONFIGURATION
# =============================================================================
# Enable smart caching system for optimal performance
ENABLE_SMART_CACHING=true

# Cache policy: smart, aggressive, disabled
CACHE_POLICY=smart

# Cache TTL settings (in minutes)
CACHE_TTL_LIVE_DATA=0          # No cache for live data (news, quotes, sentiment)
CACHE_TTL_INTRADAY=15          # 15 minutes for current day price data
CACHE_TTL_HISTORICAL=1440      # 24 hours for historical data
CACHE_TTL_STATIC=10080         # 7 days for static data (financials)

# Cache behavior settings
FORCE_LIVE_CURRENT_DAY=true    # Always fetch live data for current day
CACHE_BYPASS_TRADING_HOURS=true # Prefer live data during market hours
CACHE_MAX_AGE_CHECK=true       # Enable cache expiration checking

# =============================================================================
# DYNAMIC MODEL SELECTION
# =============================================================================
# Enable intelligent model selection based on task complexity
ENABLE_DYNAMIC_SELECTION=true

# Cost optimization settings
COST_OPTIMIZATION_ENABLED=true
PERFORMANCE_MONITORING=true

# Model selection strategy: adaptive, cost_optimized, performance_optimized
MODEL_SELECTION_STRATEGY=adaptive

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================
# Maximum debate rounds
MAX_DEBATE_ROUNDS=1
MAX_RISK_DISCUSS_ROUNDS=1
MAX_RECUR_LIMIT=100

# Online tools enable/disable
ONLINE_TOOLS=true

# Memory system configuration
MEMORY_COLLECTION_SIZE=1000
MEMORY_SIMILARITY_THRESHOLD=0.7

# =============================================================================
# RATE LIMITING & PERFORMANCE
# =============================================================================
# API rate limits (requests per minute)
FINNHUB_RATE_LIMIT=60
REDDIT_RATE_LIMIT=100
GOOGLE_NEWS_RATE_LIMIT=30

# Request timeouts (seconds)
API_REQUEST_TIMEOUT=30
LLM_REQUEST_TIMEOUT=120

# =============================================================================
# BATCH ANALYSIS & RETRY CONFIGURATION
# =============================================================================
# Maximum time for complete batch analysis (seconds)
BATCH_ANALYSIS_MAX_TIME=1800          # 30 minutes default

# Retry behavior for throttling errors
BATCH_RETRY_MAX_ATTEMPTS=3            # Max retry attempts per stock
BATCH_RETRY_BASE_DELAY=30             # Base delay in seconds (30, 60, 120s)
BATCH_RETRY_JITTER_PERCENT=25         # Jitter percentage for randomization
BATCH_RETRY_MIN_DELAY=15              # Minimum delay between retries

# Concurrency management for batch processing
BATCH_INITIAL_WORKERS=4               # Starting number of parallel workers
BATCH_MIN_WORKERS=1                   # Minimum workers when throttling detected
BATCH_WORKER_REDUCTION_FACTOR=0.5     # Factor to reduce workers by when throttled

# Retry configuration
MAX_RETRIES=3
RETRY_DELAY=1

# =============================================================================
# DATABASE & STORAGE
# =============================================================================
# ChromaDB configuration for memory storage
CHROMA_DB_PATH=./chroma_db
CHROMA_COLLECTION_METADATA={"hnsw:space": "cosine"}

# =============================================================================
# SECURITY & MONITORING
# =============================================================================
# Enable/disable various monitoring features
ENABLE_USAGE_STATS=true
ENABLE_PERFORMANCE_LOGGING=true
ENABLE_ERROR_REPORTING=true

# Data privacy settings
ANONYMIZE_LOGS=true
RETAIN_SENSITIVE_DATA=false

# =============================================================================
# TRADING SYSTEM SETTINGS
# =============================================================================
# Default trading parameters
DEFAULT_LOOKBACK_DAYS=30
DEFAULT_CONFIDENCE_THRESHOLD=0.7

# Risk management - optimized for high-growth trading
POSITION_SIZE_LIMIT=0.40              # Allow up to 40% position sizes
MAX_PORTFOLIO_RISK=0.40               # Allow up to 40% individual positions
MAX_SECTOR_CONCENTRATION=0.80         # Allow up to 80% sector concentration
STOP_LOSS_THRESHOLD=0.20              # 20% stop loss for high-growth strategy

# Backtesting configuration
BACKTEST_START_DATE=2023-01-01
BACKTEST_END_DATE=2024-12-31
BACKTEST_INITIAL_CAPITAL=100000

# =============================================================================
# CLI DEFAULT PREFERENCES
# =============================================================================
# Automatically use current date instead of prompting
CLI_AUTO_USE_CURRENT_DATE=true

# Default research depth: shallow, medium, deep
CLI_DEFAULT_RESEARCH_DEPTH=deep

# Default LLM provider: openai, bedrock, anthropic, google, openrouter, ollama
CLI_DEFAULT_LLM_PROVIDER=bedrock

# Default thinking agents (model names)
CLI_DEFAULT_SHALLOW_THINKER=claude-sonnet-4
CLI_DEFAULT_DEEP_THINKER=claude-sonnet-4

# Automatically select all analysts instead of prompting
CLI_AUTO_SELECT_ALL_ANALYSTS=true

# CLI behavior mode: auto (use defaults), interactive (always prompt)
CLI_DEFAULT_MODE=auto

# =============================================================================
# PORTFOLIO ANALYSIS CONFIGURATION
# =============================================================================
# Portfolio analysis performance and reliability settings
PORTFOLIO_MAX_WORKERS=2                  # Reduce parallel processing to avoid rate limits
PORTFOLIO_SEQUENTIAL=false               # Set true to process stocks one by one
PORTFOLIO_TIMEOUT=300                    # 5 minute timeout per stock analysis
ENABLE_GRACEFUL_DEGRADATION=true         # Continue analysis even if some stocks fail

# Portfolio-specific speed optimizations
PORTFOLIO_FAST_MODE=true                 # Use faster analysis for portfolio mode
PORTFOLIO_MAX_DEBATE_ROUNDS=1            # Limit debate rounds in portfolio mode
PORTFOLIO_MAX_RISK_ROUNDS=1              # Limit risk discussion rounds in portfolio mode

# =============================================================================
# TECHNICAL ANALYSIS CONFIGURATION
# =============================================================================
# Enable/disable technical analysis features
ENABLE_TECHNICAL_ANALYSIS=true

# Technical analysis parameters
TECHNICAL_MIN_PERIODS=20                  # Minimum data points needed for analysis
TECHNICAL_PATTERN_CONFIDENCE_MIN=70       # Minimum confidence for pattern signals (%)
TECHNICAL_VOLUME_CONFIRMATION=true        # Require volume confirmation for patterns

# Candlestick pattern settings
ENABLE_CANDLESTICK_PATTERNS=true
CANDLESTICK_LOOKBACK_DAYS=30              # Days of data for pattern detection

# Support/Resistance analysis
ENABLE_SUPPORT_RESISTANCE=true
SUPPORT_RESISTANCE_WINDOW=20              # Rolling window for S/R calculation
SUPPORT_RESISTANCE_LOOKBACK=50            # Days of data for S/R analysis

# Fibonacci retracement analysis
ENABLE_FIBONACCI_ANALYSIS=true
FIBONACCI_TREND_WINDOW=50                 # Days to determine trend high/low
FIBONACCI_PROXIMITY_THRESHOLD=2.0         # Distance % to consider "near" a level

# Technical indicator preferences
TECHNICAL_RSI_PERIOD=14
TECHNICAL_MACD_FAST=12
TECHNICAL_MACD_SLOW=26
TECHNICAL_MACD_SIGNAL=9
TECHNICAL_BOLLINGER_PERIOD=20
TECHNICAL_BOLLINGER_STD=2

# Multi-timeframe analysis
ENABLE_MULTI_TIMEFRAME=false             # Enable daily + weekly analysis
WEEKLY_CONFIRMATION_REQUIRED=false       # Require weekly trend confirmation

# Technical analysis cache settings (inherits from main cache config)
TECHNICAL_CACHE_ENABLED=true
TECHNICAL_ANALYSIS_TTL=900               # 15 minutes cache for technical analysis

# =============================================================================
# BEDROCK RATE LIMITING
# =============================================================================
# Rate limiting to prevent throttling errors
BEDROCK_RATE_LIMIT=8                     # Max API requests per minute
BEDROCK_RETRY_ATTEMPTS=3                 # Number of retry attempts on throttling
BEDROCK_BACKOFF_MULTIPLIER=2             # Exponential backoff multiplier
BEDROCK_INITIAL_DELAY=1                  # Initial retry delay in seconds